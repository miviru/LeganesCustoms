@using LeganesCustomsBlazor.Models

<h4>Resumen de la Cita</h4>

<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">Datos del Cliente</h5>
        <p><strong>Nombre:</strong> @ClientData?.Nombre</p>
        <p><strong>Apellidos:</strong> @ClientData?.Apellido1 @ClientData?.Apellido2</p>
        <p><strong>DNI:</strong> @ClientData?.DNI</p>
        <p><strong>Email:</strong> @ClientData?.Email</p>
        <p><strong>Teléfono:</strong> @ClientData?.Telefono</p>
        <p><strong>Dirección:</strong> @ClientData?.Direccion</p>
    </div>
</div>

<div class="card mt-3">
    <div class="card-body">
        <h5 class="card-title">Fecha y Hora</h5>
        <p><strong>Fecha:</strong> @SelectedDateTime.ToString("dd/MM/yyyy")</p>
        <p><strong>Hora:</strong> @SelectedDateTime.ToString("HH:mm")</p>
    </div>
</div>

<div class="mt-3">
    <button class="btn btn-primary" @onclick="ConfirmAppointment">Confirmar Cita</button>
    <button class="btn btn-secondary ms-2" @onclick="PreviousStep">Anterior</button>
</div>

@code {
    [Parameter] public Cliente ClientData { get; set; }
    [Parameter] public DateTime SelectedDateTime { get; set; }
    [Parameter] public Vehiculo VehicleData { get; set; }
    [Parameter] public Servicio SelectedService { get; set; }
    [Parameter] public EventCallback OnPrevious { get; set; }
    [Parameter] public EventCallback OnNext { get; set; }

    private async Task ConfirmAppointment()
    {
        // Lógica para confirmar la cita
        Console.WriteLine("Cita confirmada.");
        await OnNext.InvokeAsync();
    }

    private async Task PreviousStep()
    {
        // Lógica para ir al paso anterior
        await OnPrevious.InvokeAsync();
    }
}
