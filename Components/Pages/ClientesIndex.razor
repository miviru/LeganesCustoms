@page "/clientesIndex"
@inject ClienteService ClienteService
@inject ICitasService CitaService
@inject NavigationManager NavigationManager
@using LeganesCustomsBlazor.Models;
@using LeganesCustomsBlazor.Services;

<PageTitle>Cliente</PageTitle>

<div class="container-fluid">
    <div class="row mt-3">
        <div class="col-lg-12">
            <h3>BIENVENIDO, @cliente.Nombre</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-6 col-md-4 col-lg-2"></div>

        <div class="col-12 col-md-6 col-lg-4">
            <div class="card mt-4" style="background-image: url('/fondo2.jpg'); background-size: cover; background-position: center;">
                <div class="card-body d-flex justify-content-center align-items-center h-100">
                    <NavLink class="text-white me-2" href="@($"/detallesCliente/{cliente.Id}")" style="text-decoration: none;">MIS DATOS</NavLink>
                </div>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-4">
            <div class="card mt-4" style="background-image: url('/fondo2.jpg'); background-size: cover; background-position: center;">
                <div class="card-body d-flex justify-content-center align-items-center h-100">
                    <NavLink class="text-white me-2" href="/vehiculosCliente" style="text-decoration: none;">VEHÍCULOS</NavLink>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-8 col-md-4 col-lg-2"></div>

        <div class="col-12 col-md-6 col-lg-4">
            <div class="card mt-4" style="background-image: url('/fondo2.jpg'); background-size: cover; background-position: center;">
                <div class="card-body d-flex justify-content-center align-items-center h-100">
                    <NavLink class="text-white me-2" href="/citasCliente" style="text-decoration: none;">CITAS</NavLink>
                </div>
            </div>
        </div>
    </div>ç
</div>
      

@code {
    private Cliente cliente = new Cliente
    {
        Id = 1,
        Nombre = "Maikel Delafont"
    };

    private List<Cita> citas;

    protected override async Task OnInitializedAsync()
    {
        // Simulación de cliente logueado
        cliente = new Cliente
        {
            Id = 1,
            Nombre = "Maikel Delafont"
        };

        // Cargar las citas del cliente logueado desde el servicio
        citas = await CitaService.GetCitasPorClienteIdAsync(cliente.Id);
    }
}
